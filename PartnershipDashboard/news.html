<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Новости партнера - FE Платформа</title>
    <link href="../styles.css" rel="stylesheet" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap"
      rel="stylesheet"
    />
    <!-- Header Web Component ---->
    <script src="../components/fe-header-partnership.js"></script>
  </head>
  <body class="bg-base-surface-1 font-sans">
    <!-- Main Container / Главный контейнер -->
    <div class="min-h-screen flex">
      <!-- Sidebar / Боковая панель -->
      <div id="sidebar-container" class="hidden lg:block"></div>

      <!-- Main Content Area / Основная область контента -->
      <div class="flex flex-col grow w-full">
        <!-- Header / Заголовок -->
        <fe-header-partnership></fe-header-partnership>

        <!-- Page Content / Содержимое страницы -->
        <div
          class="bg-base-surface-1 flex flex-col gap-2.5 grow pt-14 px-6 lg:px-15 w-full lg:pl-[300px]"
        >
          <div
            class="flex flex-col gap-6 grow items-center justify-start w-full"
          >
            <!-- Page Header Section / Секция заголовка страницы -->
            <div
              class="content-stretch flex flex-col gap-8 items-start relative shrink-0 w-full max-w-[880px]"
            >
              <!-- Title / Заголовок -->
              <div
                class="content-stretch flex flex-col gap-4 items-start relative shrink-0 w-full"
              >
                <h1 class="text-2xl-semibold text-text-dark-primary">
                  Новости партнера
                </h1>
              </div>

              <!-- Table Section / Секция таблицы -->
              <div
                class="w-full border border-base-border rounded-6 overflow-hidden"
              >
                <table class="w-full news-table">
                  <!-- Table Header / Заголовок таблицы -->
                  <thead>
                    <tr class="bg-base-surface-2 border-b border-base-border">
                      <th
                        class="text-left px-7 pt-4 pb-3 text-base-medium text-text-dark-secondary w-[380px]"
                      >
                        Название
                      </th>
                      <th
                        class="text-left px-3 pt-4 pb-3 text-base-medium text-text-dark-secondary w-[120px]"
                      >
                        Дата
                      </th>
                      <th
                        class="text-left px-3 pt-4 pb-3 text-base-medium text-text-dark-secondary w-[230px]"
                      >
                        Действия
                      </th>
                      <th
                        class="text-left px-3 pt-4 pb-3 text-base-medium text-text-dark-secondary w-[150px]"
                      ></th>
                    </tr>
                  </thead>
                  <!-- Table Body / Тело таблицы -->
                  <tbody id="news-table-body">
                    <!-- Rows generated dynamically / Строки генерируются динамически -->
                  </tbody>
                </table>
              </div>

              <!-- Add News Button / Кнопка добавления новости -->
              <div class="flex items-center justify-center w-full">
                <button
                  class="bg-state-brand-active border border-colors-alpha-dark-200 rounded-6 px-4 h-14 flex items-center gap-1 hover:bg-state-brand-hover transition-colors"
                >
                  <img
                    src="../public/icons/plus-sign-white.svg"
                    class="w-7 h-7"
                    alt=""
                  />
                  <span class="text-sm-semibold text-text-light-primary"
                    >Добавить новость</span
                  >
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- JavaScript / Скрипты -->
    <script>
      // News Data / Данные новостей
      const newsData = [
        {
          id: 1,
          title: "Добавлены новые способы оплаты",
          date: "12.01.2023",
        },
        {
          id: 2,
          title: "Изменение графика работы",
          date: "12.01.2023",
        },
        {
          id: 3,
          title: "Стоимость выделенного IP - 150 рублей.",
          date: "12.01.2023",
        },
        { id: 4, title: "С Днем Победы!", date: "12.01.2023" },
        {
          id: 5,
          title:
            "Акция: Бесплатные ISPmanager пятой версии при заказе VDS",
          date: "12.01.2023",
        },
        {
          id: 6,
          title: "В тестовом режиме мы запустили облачные VPS.",
          date: "12.01.2023",
        },
      ];

      // Render Table / Рендер таблицы
      function renderNewsTable() {
        const tbody = document.getElementById("news-table-body");
        tbody.innerHTML = newsData
          .map(
            (news) => `
          <tr class="bg-white border-b border-base-border hover:bg-base-surface-2 transition-colors">
            <td class="px-7 py-4 text-sm-medium text-text-dark-secondary">
              ${news.title}
            </td>
            <td class="px-3 py-4 text-sm-medium text-text-dark-secondary">
              ${news.date}
            </td>
            <td class="px-3 py-4">
              <button class="bg-base-surface-2 border border-base-border rounded-6 px-7 h-12 hover:bg-base-fill-1 transition-colors">
                <span class="text-sm-semibold text-text-dark-primary">Изменить</span>
              </button>
            </td>
            <td class="px-3 py-5">
              <button class="bg-state-danger-active rounded-6 px-7 h-12 hover:bg-state-danger-hover transition-colors">
                <span class="text-sm-semibold text-text-light-primary">Удалить</span>
              </button>
            </td>
          </tr>
        `
          )
          .join("");
      }

      // Load Components / Загрузка компонентов
      async function loadComponent(containerId, componentPath) {
        try {
          const response = await fetch(componentPath);
          const html = await response.text();
          document.getElementById(containerId).innerHTML = html;
        } catch (error) {
          console.error(`Error loading component ${componentPath}:`, error);
        }
      }

      // Initialize Components / Инициализация компонентов
      document.addEventListener("DOMContentLoaded", async function () {
        await loadComponent(
          "sidebar-container",
          "../components/sidebar-partnership.html"
        );
        renderNewsTable();
      });
    </script>
  </body>
</html>
