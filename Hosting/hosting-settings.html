<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Настройки хостинга - FE Платформа</title>
    <link href="../styles.css" rel="stylesheet" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap"
      rel="stylesheet"
    />
    <!-- Header Web Component -->
    <script src="../components/fe-header.js"></script>
    <!-- Center Modal Web Component -->
    <script src="../components/fe-center-modal.js"></script>
  </head>
  <body class="bg-base-surface-1 font-sans">
    <!-- Main Container / Главный контейнер -->
    <div class="min-h-screen flex">
      <!-- Sidebar / Боковая панель -->
      <div id="sidebar-container" class="hidden lg:block"></div>

      <!-- Main Content Area / Основная область контента -->
      <div class="flex flex-col grow w-full">
        <!-- Header / Заголовок с кнопкой назад -->
        <fe-header
          back-link="../Hosting/index.html"
          back-text="Список хостингов"
        ></fe-header>

        <!-- Page Content / Содержимое страницы -->
        <div
          class="bg-base-surface-1 flex flex-col gap-2.5 grow pt-17 px-6 lg:px-15 w-full lg:pl-[300px]"
        >
          <div class="max-w-[880px] w-full mx-auto">
            <!-- Hosting Header / Шапка хостинга -->
            <div class="flex items-center gap-4 mb-10">
              <!-- Hosting Icon / Иконка хостинга -->
              <div
                class="bg-base-surface-2 rounded-9 p-7 flex items-center justify-center flex-shrink-0"
              >
                <img
                  src="../public/icons/hosting.svg"
                  alt="Hosting"
                  class="w-13 h-13"
                />
              </div>

              <!-- Hosting Info / Информация о хостинге -->
              <div class="flex flex-col">
                <h2 class="text-base-medium text-text-dark-secondary">
                  Настройки хостинга
                </h2>
                <h1 class="text-xl-semibold text-text-dark-primary">
                  Обычный сайт
                </h1>
              </div>
            </div>

            <!-- Tabs / Вкладки -->
            <div
              class="flex items-center gap-6 border-b border-base-border mb-11"
            >
              <button
                class="tab-button active pb-2 border-b-2 border-state-brand-active text-base-medium text-text-dark-primary"
                data-tab="management"
              >
                Управление
              </button>
              <button
                class="tab-button pb-2 border-b-2 border-transparent text-base-medium text-text-dark-secondary hover:text-text-dark-primary transition-colors"
                data-tab="info"
              >
                Информация и статистика
              </button>
            </div>

            <!-- Tab Content Container / Контейнер содержимого вкладок -->
            <div id="tab-content">
              <!-- Management Tab / Вкладка Управление -->
              <div id="management-tab" class="tab-content flex flex-col gap-6">
                <!-- Renewal Section / Секция продления -->
                <div
                  class="flex flex-col sm:flex-row sm:items-start justify-between gap-4"
                >
                  <div class="flex items-start gap-4">
                    <div
                      class="bg-base-surface-2 rounded-6 p-7 flex items-center justify-center flex-shrink-0"
                    >
                      <img
                        src="../public/icons/clock-05.svg"
                        alt="Продление"
                        class="w-12 h-12 opacity-70"
                      />
                    </div>
                    <div class="flex flex-col pt-1">
                      <h3 class="text-base-semibold text-text-dark-primary">
                        Продление
                      </h3>
                      <p class="text-sm-medium text-text-dark-secondary">
                        Активен до 12.02.2025
                      </p>
                    </div>
                  </div>
                  <button
                    id="renew-btn"
                    class="bg-state-brand-active hover:bg-state-brand-hover text-white rounded-6 px-4 h-15 text-base-semibold transition-colors whitespace-nowrap"
                  >
                    Продлить
                  </button>
                </div>

                <!-- Auto-renewal Section / Секция автопродления -->
                <div
                  class="flex flex-col sm:flex-row sm:items-start justify-between gap-4"
                >
                  <div class="flex items-start gap-4">
                    <div
                      class="bg-base-surface-2 rounded-6 p-7 flex items-center justify-center flex-shrink-0"
                    >
                      <img
                        src="../public/icons/date-time.svg"
                        alt="Автопродление"
                        class="w-12 h-12 opacity-70"
                      />
                    </div>
                    <div class="flex flex-col pt-1">
                      <h3 class="text-base-semibold text-text-dark-primary">
                        Автопродление
                      </h3>
                      <p class="text-sm-medium text-text-dark-secondary">
                        Следующие автопродление 12.01.2025
                      </p>
                      <p class="text-sm-medium text-text-dark-secondary">
                        Убедитесь, что у вас достаточно
                        <span class="text-state-brand-active">средств</span> для
                        автоматического списания
                      </p>
                    </div>
                  </div>
                  <label
                    class="relative inline-flex items-center cursor-pointer flex-shrink-0"
                  >
                    <input
                      type="checkbox"
                      id="autorenew-toggle"
                      class="sr-only peer"
                      checked
                    />
                    <div
                      class="toggle-switch w-15 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-state-brand-active rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[1px] after:left-[1px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-6 after:w-6 after:transition-all peer-checked:bg-state-brand-active"
                    ></div>
                  </label>
                </div>

                <!-- Control Panel Section / Секция панели управления -->
                <div
                  class="flex flex-col sm:flex-row sm:items-start justify-between gap-4"
                >
                  <div class="flex items-start gap-4">
                    <div
                      class="bg-base-surface-2 rounded-6 p-7 flex items-center justify-center flex-shrink-0"
                    >
                      <img
                        src="../public/icons/folder-management.svg"
                        alt="Панель управления"
                        class="w-12 h-12 opacity-70"
                      />
                    </div>
                    <div class="flex flex-col pt-1">
                      <h3 class="text-base-semibold text-text-dark-primary">
                        Панель управления
                      </h3>
                      <p class="text-sm-medium text-text-dark-secondary">
                        ISPmanager
                      </p>
                    </div>
                  </div>
                  <button
                    class="bg-base-surface-2 hover:bg-base-fill-1 border border-base-border text-text-dark-primary rounded-6 px-4 h-15 text-base-semibold transition-colors whitespace-nowrap flex items-center gap-2"
                  >
                    Войти
                  </button>
                </div>

                <!-- Site Constructor Section / Секция конструктора сайта -->
                <div
                  class="flex flex-col sm:flex-row sm:items-start justify-between gap-4"
                >
                  <div class="flex items-start gap-4">
                    <div
                      class="bg-base-surface-2 rounded-6 p-7 flex items-center justify-center flex-shrink-0"
                    >
                      <img
                        src="../public/icons/web-design-01.svg"
                        alt="Конструктор сайта"
                        class="w-12 h-12 opacity-70"
                      />
                    </div>
                    <div class="flex flex-col pt-1">
                      <h3 class="text-base-semibold text-text-dark-primary">
                        Конструктор сайта
                      </h3>
                      <p class="text-sm-medium text-text-dark-secondary">
                        TRIAL
                      </p>
                    </div>
                  </div>
                  <button
                    class="bg-base-surface-2 hover:bg-base-fill-1 border border-base-border text-text-dark-primary rounded-6 px-4 h-15 text-base-semibold transition-colors whitespace-nowrap flex items-center gap-2"
                  >
                    Перейти
                  </button>
                </div>

                <!-- Tariff Section / Секция тарифа -->
                <div
                  class="flex flex-col sm:flex-row sm:items-start justify-between gap-4"
                >
                  <div class="flex items-start gap-4">
                    <div
                      class="bg-base-surface-2 rounded-6 p-7 flex items-center justify-center flex-shrink-0"
                    >
                      <img
                        src="../public/icons/hosting.svg"
                        alt="Тариф"
                        class="w-12 h-12 opacity-70"
                      />
                    </div>
                    <div class="flex flex-col pt-1">
                      <h3 class="text-base-semibold text-text-dark-primary">
                        Тариф
                      </h3>
                      <p class="text-sm-medium text-text-dark-secondary">
                        Оптимальный
                      </p>
                    </div>
                  </div>
                  <button
                    class="bg-base-surface-2 hover:bg-base-fill-1 border border-base-border text-text-dark-primary rounded-6 px-4 h-15 text-base-semibold transition-colors whitespace-nowrap flex items-center gap-2"
                  >
                    <img
                      src="../public/icons/edit-02.svg"
                      alt="Изменить"
                      class="w-6 h-6"
                    />
                    Изменить
                  </button>
                </div>
              </div>

              <!-- Info Tab / Вкладка Информация и статистика -->
              <div
                id="info-tab"
                class="tab-content hidden flex-col lg:flex-row gap-8"
              >
                <!-- Left Side: Analytics / Левая сторона: Аналитика -->
                <div class="flex flex-col gap-6 flex-1">
                  <!-- Analytics Card / Карточка аналитики -->
                  <div
                    class="bg-base-surface-2 border border-base-border rounded-9 p-6 flex flex-col gap-6"
                  >
                    <div class="flex flex-col gap-1">
                      <p class="text-sm-medium text-text-dark-secondary">
                        Использование ресурсов
                      </p>
                      <h3 class="text-xl-semibold text-text-dark-primary">
                        Аналитика хостинга
                      </h3>
                    </div>

                    <!-- CPU Usage / Использование CPU -->
                    <div class="flex flex-col gap-3">
                      <div class="flex items-center justify-between">
                        <p class="text-base-medium text-text-dark-secondary">
                          Условная единица CP
                        </p>
                        <p class="text-base-medium text-text-dark-primary">
                          --
                        </p>
                      </div>

                      <div class="flex items-center justify-between">
                        <p class="text-base-medium text-text-dark-secondary">
                          Нагрузка на сервер
                        </p>
                        <p class="text-base-semibold text-text-dark-primary">
                          1 ср / 20 ср
                        </p>
                      </div>

                      <!-- Progress Bar / Прогресс бар -->
                      <div class="w-full bg-base-fill-1 rounded-full h-7">
                        <div
                          class="bg-state-brand-active h-7 rounded-full"
                          style="width: 5%"
                        ></div>
                      </div>
                    </div>
                  </div>

                  <!-- Domain Card / Карточка домена -->
                  <div
                    class="bg-base-surface-2 border border-base-border rounded-9 p-6 flex flex-col gap-3"
                  >
                    <p class="text-sm-medium text-text-dark-secondary">Домен</p>
                    <div class="flex items-center gap-2">
                      <h3
                        class="text-xl-semibold text-text-dark-primary"
                        id="domain-name"
                      >
                        testdomain.com
                      </h3>
                      <button
                        id="copy-domain-btn"
                        class="hover:bg-base-fill-1 rounded transition-colors p-1"
                      >
                        <img
                          src="../public/icons/copy-01.svg"
                          alt="Копировать"
                          class="w-4 h-4"
                        />
                      </button>
                    </div>
                  </div>
                </div>

                <!-- Right Side: General Info / Правая сторона: Общая информация -->
                <div class="flex flex-col gap-6 flex-1">
                  <div
                    class="bg-base-surface-2 border border-base-border rounded-9 p-6 flex flex-col gap-6"
                  >
                    <div class="flex flex-col gap-1">
                      <p class="text-sm-medium text-text-dark-secondary">
                        Общая
                      </p>
                      <h3 class="text-xl-semibold text-text-dark-primary">
                        Информация
                      </h3>
                    </div>

                    <!-- Info Fields / Поля информации -->
                    <div class="flex flex-col gap-4">
                      <!-- Название -->
                      <div class="flex items-start justify-between gap-4">
                        <p class="text-base-medium text-text-dark-secondary">
                          Название
                        </p>
                        <p
                          class="text-base-medium text-text-dark-primary text-right"
                        >
                          Обычный сайт
                        </p>
                      </div>

                      <!-- IP WEB сервера -->
                      <div class="flex items-start justify-between gap-4">
                        <p class="text-base-medium text-text-dark-secondary">
                          IP WEB сервера
                        </p>
                        <p
                          class="text-base-medium text-text-dark-primary text-right"
                        >
                          37.228.92.11
                        </p>
                      </div>

                      <!-- IP FTP сервера -->
                      <div class="flex items-start justify-between gap-4">
                        <p class="text-base-medium text-text-dark-secondary">
                          IP FTP сервера
                        </p>
                        <p
                          class="text-base-medium text-text-dark-primary text-right"
                        >
                          37.228.92.11
                        </p>
                      </div>

                      <!-- Логин на сервере -->
                      <div class="flex items-start justify-between gap-4">
                        <p class="text-base-medium text-text-dark-secondary">
                          Логин на сервере
                        </p>
                        <p
                          class="text-base-medium text-text-dark-primary text-right"
                        >
                          fe069148
                        </p>
                      </div>

                      <!-- Пароль на сервере -->
                      <div class="flex items-start justify-between gap-4">
                        <p class="text-base-medium text-text-dark-secondary">
                          Пароль на сервере
                        </p>
                        <p
                          class="text-base-medium text-text-dark-primary text-right"
                        >
                          09u483lqf2E7
                        </p>
                      </div>

                      <!-- Почта -->
                      <div class="flex items-start justify-between gap-4">
                        <p class="text-base-medium text-text-dark-secondary">
                          Почта
                        </p>
                        <p
                          class="text-base-medium text-text-dark-primary text-right"
                        >
                          testmail@gmail.com
                        </p>
                      </div>

                      <!-- DNS -->
                      <div class="flex items-start justify-between gap-4">
                        <p class="text-base-medium text-text-dark-secondary">
                          DNS
                        </p>
                        <div class="flex flex-col items-end gap-1">
                          <p class="text-base-medium text-text-dark-primary">
                            ns1.nocsu.com
                          </p>
                          <p class="text-base-medium text-text-dark-primary">
                            ns2.nocsu.com
                          </p>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- JavaScript / Скрипты -->
    <script>
      // Load Components / Загрузка компонентов
      async function loadComponent(containerId, componentPath) {
        try {
          const response = await fetch(componentPath);
          const html = await response.text();
          document.getElementById(containerId).innerHTML = html;
        } catch (error) {
          console.error(`Error loading component ${componentPath}:`, error);
        }
      }

      // Initialize Components / Инициализация компонентов
      document.addEventListener("DOMContentLoaded", async function () {
        await loadComponent("sidebar-container", "../components/sidebar.html");
        initTabs();
        initCopyButton();
        initAutoRenewToggle();
        initRenewModal();
      });

      // Tab Management / Управление вкладками
      function initTabs() {
        const tabButtons = document.querySelectorAll(".tab-button");
        const managementTab = document.getElementById("management-tab");
        const infoTab = document.getElementById("info-tab");

        tabButtons.forEach((button) => {
          button.addEventListener("click", () => {
            const tabName = button.dataset.tab;

            // Update button states
            tabButtons.forEach((btn) => {
              btn.classList.remove(
                "active",
                "border-state-brand-active",
                "text-text-dark-primary"
              );
              btn.classList.add(
                "border-transparent",
                "text-text-dark-secondary"
              );
            });

            button.classList.add(
              "active",
              "border-state-brand-active",
              "text-text-dark-primary"
            );
            button.classList.remove(
              "border-transparent",
              "text-text-dark-secondary"
            );

            // Show/hide tabs
            if (tabName === "management") {
              managementTab.classList.remove("hidden");
              managementTab.classList.add("flex");
              infoTab.classList.add("hidden");
              infoTab.classList.remove("flex");
            } else if (tabName === "info") {
              infoTab.classList.remove("hidden");
              infoTab.classList.add("flex");
              managementTab.classList.add("hidden");
              managementTab.classList.remove("flex");
            }
          });
        });
      }

      // Copy Domain Button / Кнопка копирования домена
      function initCopyButton() {
        const copyBtn = document.getElementById("copy-domain-btn");
        const domainName = document.getElementById("domain-name");

        if (copyBtn && domainName) {
          copyBtn.addEventListener("click", () => {
            navigator.clipboard
              .writeText(domainName.textContent)
              .then(() => {
                console.log("Domain copied to clipboard");
              })
              .catch((err) => {
                console.error("Failed to copy domain:", err);
              });
          });
        }
      }

      // Auto-renewal Toggle / Переключатель автопродления
      function initAutoRenewToggle() {
        const toggle = document.getElementById("autorenew-toggle");

        if (toggle) {
          toggle.addEventListener("change", (e) => {
            const isEnabled = e.target.checked;
            console.log("Auto-renewal:", isEnabled ? "Enabled" : "Disabled");
            // Here you would typically send an API request to update the auto-renewal status
          });
        }
      }

      // Renew Modal / Модалка продления
      function initRenewModal() {
        const renewBtn = document.getElementById("renew-btn");
        const modal = document.getElementById("renewModal");
        const payBtn = document.getElementById("pay-btn");
        const deductBtn = document.getElementById("deduct-btn");

        if (renewBtn && modal) {
          renewBtn.addEventListener("click", () => {
            modal.open();
          });
        }

        if (payBtn) {
          payBtn.addEventListener("click", () => {
            console.log("Оплатить clicked");
            // Redirect to payment page or open payment form
          });
        }

        if (deductBtn) {
          deductBtn.addEventListener("click", () => {
            console.log("Списать 400 ₽ clicked");
            // API request to deduct from balance
            modal.close();
            alert("Хостинг продлен на 1 месяц!");
          });
        }
      }
    </script>

    <!-- Renew Modal / Модалка продления -->
    <fe-center-modal id="renewModal" modal-title="Продление хостинга">
      <div slot="content">
        <p class="text-base-medium text-text-dark-secondary">
          Вы можете оплатить хостинг доступными на платформе средствами или
          списать средства с баланса
        </p>
      </div>

      <div slot="footer" class="flex flex-col gap-5 w-full">
        <button
          id="pay-btn"
          class="bg-base-surface-2 hover:bg-base-fill-1 border border-base-border text-text-dark-primary rounded-6 px-4 h-15 text-base-semibold transition-colors w-full"
        >
          Оплатить
        </button>
        <button
          id="deduct-btn"
          class="bg-state-brand-active hover:bg-state-brand-hover text-white rounded-6 px-4 h-15 text-base-semibold transition-colors w-full"
        >
          Списать 400 ₽
        </button>
      </div>
    </fe-center-modal>
  </body>
</html>
